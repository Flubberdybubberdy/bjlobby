<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sports Betting — Tournament (Live Betting)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg-main:#070b1a;
      --bg-top:#111a33;
      --panel:#1b2340;
      --panel-2:#17203a;

      --text:#ffffff;
      --muted:#9aa3c7;

      --yellow:#f6c945;
      --pink:#ef6aa8;
      --orange:#ff8c2b;

      --red:#e53935;
      --link:#6f7cff;
      --green:#35b87b;

      --radius:18px;
      --radius-sm:12px;

      --shadow:0 20px 60px rgba(0,0,0,.6);
      --shadow-card:0 18px 44px rgba(0,0,0,.55);

      --bs-bg:#0b1226;             /* solid bet slip base */
      --bs-surface:rgba(255,255,255,.06);
      --bs-border:rgba(255,255,255,.10);

      --peek-h:72px;
      --expanded-h:78vh;
      --safe-b: env(safe-area-inset-bottom, 0px);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:radial-gradient(circle at top, var(--bg-top), var(--bg-main) 70%);
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      overflow-x:hidden;
    }

    /* ===== Topbar ===== */
    .topbar{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      padding:12px 18px;
      background:linear-gradient(180deg,#0e1428,#0a1020);
      position:sticky;
      top:0;
      z-index:50;
    }
    .topbar-left{justify-self:start}
    .topbar-center{justify-self:center}
    .topbar-right{justify-self:end}

    .logout{
      background:var(--red);
      color:#fff;
      border:0;
      border-radius:10px;
      padding:8px 14px;
      font-weight:900;
      font-size:12px;
      letter-spacing:.08em;
      cursor:pointer;
      text-transform:uppercase;
      box-shadow:0 10px 26px rgba(229,57,53,.25);
      white-space:nowrap;
    }

    .topbar-link{
      display:inline-flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      user-select:none;
    }
    .topbar-text{
      font-weight:900;
      letter-spacing:.14em;
      font-size:13px;
      color:#f2b24c; /* readable gold */
      white-space:nowrap;
      text-transform:uppercase;
    }

    /* ===== Animated Cards (SVG) ===== */
    .card-icons{display:inline-flex; gap:6px; align-items:center}
    .card-icon{
      width:18px;
      height:auto;
      flex:0 0 auto;
      filter:drop-shadow(0 8px 14px rgba(0,0,0,.35));
      animation:bounce 1.9s ease-in-out infinite;
      transform-origin:50% 90%;
    }
    .card-icon:nth-child(2){animation-delay:.12s}
    @keyframes bounce{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-3px)}
    }
    .card-bg{fill:#ffffff; stroke:rgba(0,0,0,.20); stroke-width:2}
    .rank,.suit{
      font-family:inherit;
      font-weight:900;
      font-size:18px;
      dominant-baseline:middle;
    }
    .black{fill:#111}
    .red{fill:var(--red)}

    /* ===== Hero ===== */
    .hero{
      padding:22px 18px 14px;
      text-align:left;
      max-width:1180px;
      margin:0 auto;
    }
    .title{
      margin:0;
      font-weight:900;
      font-size:34px;
      letter-spacing:-.02em;
      line-height:1.05;
    }
    .title .white{color:#fff}
    .title .orange{color:var(--orange); margin-left:6px}
    .subtitle{
      margin:8px 0 0;
      color:var(--muted);
      font-size:14px;
    }

    /* ===== Tournament header strip ===== */
    .tour-strip{
      margin-top:14px;
      background:linear-gradient(180deg, rgba(229,57,53,.96), rgba(229,57,53,.82));
      border-radius:14px;
      padding:10px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      box-shadow:0 12px 30px rgba(229,57,53,.25);
    }
    .tour-strip .left{
      display:flex; flex-direction:column; gap:2px;
    }
    .tour-strip .kicker{
      font-weight:900;
      letter-spacing:.14em;
      font-size:11px;
      text-transform:uppercase;
      opacity:.95;
    }
    .tour-strip .name{
      font-weight:900;
      font-size:14px;
      letter-spacing:.02em;
    }
    .tour-strip .prize{
      display:flex;
      align-items:baseline;
      gap:8px;
      white-space:nowrap;
      font-weight:900;
    }
    .tour-strip .prize span{
      opacity:.95;
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
    }
    .tour-strip .prize strong{
      font-size:16px;
    }

    /* ===== Tabs (Live / My Bets / Leaderboard) ===== */
    .tabs{
      display:flex;
      gap:16px;
      margin-top:16px;
      flex-wrap:wrap;
      align-items:center;
    }
    .tab{
      background:transparent;
      border:0;
      color:var(--muted);
      font-weight:900;
      font-size:12px;
      letter-spacing:.12em;
      cursor:pointer;
      padding:10px 0;
      text-transform:uppercase;
      border-bottom:2px solid transparent;
    }
    .tab.active{
      color:#fff;
      border-bottom-color:var(--yellow);
    }

    /* ===== Layout: main grid ===== */
    .wrap{
      max-width:1180px;
      margin:0 auto;
      padding:14px 18px 110px; /* space for mobile sheet */
      display:grid;
      grid-template-columns: 1.35fr .65fr;
      gap:18px;
      align-items:start;
    }

    /* ===== Panels ===== */
    .panel{
      background:linear-gradient(180deg,var(--panel),var(--panel-2));
      border-radius:var(--radius);
      box-shadow:var(--shadow-card);
      padding:16px;
      border:1px solid rgba(255,255,255,.06);
    }
    .panel-title{
      margin:0 0 12px;
      font-size:14px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:#dbe3ff;
    }

    /* ===== Markets list ===== */
    .markets{display:flex; flex-direction:column; gap:12px}
    .match{
      border-radius:16px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
      padding:14px;
    }
    .match-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }
    .match-meta{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .league{
      color:var(--muted);
      font-size:12px;
      font-weight:800;
      letter-spacing:.06em;
    }
    .teams{
      font-weight:900;
      font-size:14px;
    }
    .time{
      color:rgba(255,255,255,.75);
      font-size:12px;
      font-weight:800;
      letter-spacing:.04em;
      white-space:nowrap;
    }
    .odds{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
      margin-top:10px;
    }
    .odd{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:14px;
      padding:10px 10px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      user-select:none;
      transition:transform .08s ease, border-color .12s ease, background .12s ease;
      min-height:44px;
    }
    .odd:hover{transform:translateY(-1px)}
    .odd.active{
      background:rgba(111,124,255,.18);
      border-color:rgba(111,124,255,.55);
      box-shadow:0 10px 26px rgba(111,124,255,.16);
    }
    .odd .lbl{
      font-weight:900;
      font-size:12px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:#e9eeff;
    }
    .odd .val{
      font-weight:900;
      font-size:14px;
    }

    /* ===== Desktop Betslip panel ===== */
    .betslip{
      position:sticky;
      top:86px;
    }
    .bs-box{
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:14px;
    }
    .bs-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .bs-head h3{
      margin:0;
      font-size:14px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:#fff;
    }
    .bs-count{
      font-weight:900;
      font-size:12px;
      color:rgba(255,255,255,.8);
      letter-spacing:.06em;
    }

    .sel{
      border-radius:14px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.08);
      padding:12px;
      margin-bottom:12px;
    }
    .sel-top{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
    }
    .sel-name{
      font-weight:900;
      font-size:13px;
      line-height:1.25;
    }
    .sel-sub{
      margin-top:6px;
      color:rgba(255,255,255,.75);
      font-size:12px;
      font-weight:800;
      letter-spacing:.02em;
    }
    .rm{
      border:0;
      background:rgba(255,255,255,.10);
      color:#fff;
      border-radius:10px;
      padding:7px 10px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      cursor:pointer;
      white-space:nowrap;
    }

    .stake-row{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:10px;
    }
    .stake{
      flex:1;
      background:#eef3fb;
      border-radius:14px;
      padding:10px 12px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .stake span{
      color:#111;
      font-weight:900;
      letter-spacing:.06em;
    }
    .stake input{
      border:0;
      outline:none;
      background:transparent;
      width:100%;
      font-weight:900;
      font-size:14px;
    }

    .quick{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:8px;
      margin:10px 0 12px;
    }
    .qbtn{
      border:0;
      border-radius:12px;
      padding:10px 0;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      cursor:pointer;
      background:rgba(255,255,255,.10);
      color:rgba(255,255,255,.9);
      border:1px solid rgba(255,255,255,.12);
    }
    .qbtn.active{
      background:rgba(246,201,69,.20);
      border-color:rgba(246,201,69,.55);
      color:#fff;
      box-shadow:0 12px 30px rgba(246,201,69,.10);
    }

    .type-row{
      display:flex;
      gap:10px;
      margin:12px 0;
    }
    .type{
      flex:1;
      border:0;
      border-radius:14px;
      padding:12px 10px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      cursor:pointer;
      background:rgba(255,255,255,.10);
      color:#fff;
      border:1px solid rgba(255,255,255,.12);
    }
    .type.active{
      background:linear-gradient(180deg,#ffd46a,var(--yellow));
      color:#111;
      border-color:transparent;
    }

    .totals{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin:12px 0 14px;
    }
    .kv{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:14px;
      padding:10px 12px;
    }
    .kv .k{
      color:rgba(255,255,255,.75);
      font-weight:900;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      margin-bottom:4px;
    }
    .kv .v{
      font-weight:900;
      font-size:14px;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      border:0;
      border-radius:14px;
      padding:12px 14px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      cursor:pointer;
      flex:1;
      min-width:140px;
    }
    .btn.place{
      background:linear-gradient(180deg,#6ad69a,var(--green));
      color:#fff;
    }
    .btn.clear{
      background:rgba(255,255,255,.10);
      color:rgba(255,255,255,.9);
      border:1px solid rgba(255,255,255,.14);
    }

    /* ===== Views (Live / My Bets / Leaderboard) ===== */
    .view{display:none}
    .view.active{display:block}

    /* ===== My Bets / Leaderboard basic tables ===== */
    .list{
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .row{
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:14px;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
    }
    .row .left{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .row .t{
      font-weight:900;
      font-size:14px;
    }
    .row .s{
      color:rgba(255,255,255,.75);
      font-weight:800;
      font-size:12px;
    }
    .badge{
      padding:7px 12px;
      border-radius:999px;
      font-weight:900;
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
      white-space:nowrap;
    }
    .badge.win{background:rgba(53,184,123,.20); border-color:rgba(53,184,123,.35)}
    .badge.lose{background:rgba(229,57,53,.20); border-color:rgba(229,57,53,.35)}
    .badge.live{background:rgba(111,124,255,.22); border-color:rgba(111,124,255,.35)}

    /* ===== Mobile Bottom Sheet Betslip ===== */
    .sheet{
      display:none; /* only on mobile */
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      z-index:200;
      padding-bottom: calc(var(--safe-b) + 10px);
      pointer-events:none; /* enabled by inner container */
    }
    .sheet-inner{
      pointer-events:auto;
      width:100%;
      max-width:720px;
      margin:0 auto;
      border-top-left-radius:20px;
      border-top-right-radius:20px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      box-shadow:0 30px 80px rgba(0,0,0,.70);

      /* solid base */
      background:var(--bs-bg);
    }
    .sheet-hdr{
      padding:10px 14px 12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      user-select:none;
      touch-action:none; /* we manage drag */
    }
    .grab{
      width:44px;
      height:5px;
      border-radius:999px;
      background:rgba(255,255,255,.25);
      margin:0 auto 10px;
    }
    .sheet-hdr-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .sheet-title{
      display:flex;
      align-items:baseline;
      gap:10px;
      flex-wrap:wrap;
    }
    .sheet-title strong{
      font-weight:900;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:12px;
    }
    .sheet-title span{
      color:rgba(255,255,255,.78);
      font-weight:900;
      font-size:12px;
      letter-spacing:.06em;
    }
    .chev{
      border:0;
      background:rgba(255,255,255,.10);
      color:#fff;
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      cursor:pointer;
      white-space:nowrap;
    }

    .sheet-body{
      padding:12px 14px 14px;
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      overflow:auto;
      -webkit-overflow-scrolling:touch;
    }

    /* Sheet states */
    .sheet-inner{
      transform: translateY(calc(100% - var(--peek-h)));
      transition: transform .22s ease;
    }
    .sheet.hidden .sheet-inner{ transform: translateY(100%) }
    .sheet.peek .sheet-inner{ transform: translateY(calc(100% - var(--peek-h))) }
    .sheet.expanded .sheet-inner{ transform: translateY(calc(100% - var(--expanded-h))) }

    /* Ensure content height for expanded */
    .sheet.expanded .sheet-body{
      max-height: calc(var(--expanded-h) - 64px - var(--safe-b));
    }
    .sheet.peek .sheet-body{
      display:none; /* peek is header-only */
    }

    /* ===== Responsive ===== */
    @media (max-width: 980px){
      .wrap{grid-template-columns: 1fr; padding-bottom: 150px;}
      .betslip{display:none}
      .sheet{display:block}
    }
    @media (max-width: 420px){
      .topbar{padding:12px 12px}
      .topbar-text{font-size:12px}
      .logout{padding:8px 12px}
      .title{font-size:32px}
      .odds{grid-template-columns:1fr; }
      .odd{min-height:46px}
      .quick{grid-template-columns: repeat(5, 1fr)}
      .btn{min-width:0}
    }
  </style>
</head>

<body class="dark">

  <!-- TOP NAV -->
  <header class="topbar">
    <div class="topbar-left">
      <button class="logout" type="button">LOGOUT</button>
    </div>

    <div class="topbar-center">
      <a href="index.html" class="topbar-link" aria-label="Go to Blackjack Tournaments">
        <span class="card-icons" aria-hidden="true">
          <!-- CARD 1: WHITE A♠ (BLACK) -->
          <svg class="card-icon" viewBox="0 0 64 88" role="img" aria-label="Ace of Spades">
            <rect class="card-bg" x="4" y="4" width="56" height="80" rx="8" />
            <text class="rank black" x="12" y="22">A</text>
            <text class="suit black" x="12" y="40">♠</text>
            <text class="rank black" x="44" y="74" transform="rotate(180 44 74)">A</text>
            <text class="suit black" x="44" y="56" transform="rotate(180 44 56)">♠</text>
          </svg>

          <!-- CARD 2: WHITE J♥ (RED) -->
          <svg class="card-icon" viewBox="0 0 64 88" role="img" aria-label="Jack of Hearts">
            <rect class="card-bg" x="4" y="4" width="56" height="80" rx="8" />
            <text class="rank red" x="12" y="22">J</text>
            <text class="suit red" x="12" y="40">♥</text>
            <text class="rank red" x="44" y="74" transform="rotate(180 44 74)">J</text>
            <text class="suit red" x="44" y="56" transform="rotate(180 44 56)">♥</text>
          </svg>
        </span>
        <span class="topbar-text">BLACKJACK TOURNAMENTS</span>
      </a>
    </div>

    <div class="topbar-right">
      <!-- intentionally blank (you wanted no "Dark" label here) -->
    </div>
  </header>

  <!-- HERO -->
  <main class="hero">
    <h1 class="title">
      <span class="white">Sports</span><span class="orange">Betting</span>
    </h1>
    <p class="subtitle">Tournament — Simple Sports Test</p>

    <div class="tour-strip" aria-label="Tournament summary">
      <div class="left">
        <div class="kicker">LIVE TOURNAMENT</div>
        <div class="name">Simple Sports Test</div>
      </div>

      <div class="prize">
        <span>PRIZE</span>
        <strong>£7,400</strong>
      </div>
    </div>

    <nav class="tabs" aria-label="Tournament tabs">
      <button class="tab active" type="button" data-view="live">LIVE BETTING</button>
      <button class="tab" type="button" data-view="mybets">MY BETS</button>
      <button class="tab" type="button" data-view="leaderboard">LEADERBOARD</button>
    </nav>
  </main>

  <!-- MAIN WRAP -->
  <section class="wrap">

    <!-- LEFT: CONTENT -->
    <div>

      <!-- LIVE BETTING VIEW -->
      <section class="panel view active" id="view-live">
        <h2 class="panel-title">Live Matches</h2>

        <div class="markets" id="markets">
          <!-- Match 1 -->
          <article class="match" data-match="Arsenal v Chelsea" data-league="Premier League" data-time="Today 19:45">
            <div class="match-top">
              <div class="match-meta">
                <div class="league">Premier League</div>
                <div class="teams">Arsenal v Chelsea</div>
              </div>
              <div class="time">Today 19:45</div>
            </div>

            <div class="odds" role="group" aria-label="Match odds">
              <div class="odd" role="button" tabindex="0" data-pick="HOME" data-odds="2.10">
                <div class="lbl">HOME</div><div class="val">2.10</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="DRAW" data-odds="3.40">
                <div class="lbl">DRAW</div><div class="val">3.40</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="AWAY" data-odds="3.05">
                <div class="lbl">AWAY</div><div class="val">3.05</div>
              </div>
            </div>
          </article>

          <!-- Match 2 -->
          <article class="match" data-match="Lakers v Celtics" data-league="NBA" data-time="Today 20:30">
            <div class="match-top">
              <div class="match-meta">
                <div class="league">NBA</div>
                <div class="teams">Lakers v Celtics</div>
              </div>
              <div class="time">Today 20:30</div>
            </div>

            <div class="odds" role="group" aria-label="Match odds">
              <div class="odd" role="button" tabindex="0" data-pick="LAKERS" data-odds="1.92">
                <div class="lbl">LAKERS</div><div class="val">1.92</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="SPREAD" data-odds="1.87">
                <div class="lbl">SPREAD</div><div class="val">1.87</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="CELTICS" data-odds="2.05">
                <div class="lbl">CELTICS</div><div class="val">2.05</div>
              </div>
            </div>
          </article>

          <!-- Match 3 -->
          <article class="match" data-match="Djokovic v Alcaraz" data-league="ATP" data-time="Tomorrow 14:00">
            <div class="match-top">
              <div class="match-meta">
                <div class="league">ATP</div>
                <div class="teams">Djokovic v Alcaraz</div>
              </div>
              <div class="time">Tomorrow 14:00</div>
            </div>

            <div class="odds" role="group" aria-label="Match odds">
              <div class="odd" role="button" tabindex="0" data-pick="DJOKOVIC" data-odds="2.35">
                <div class="lbl">DJOKOVIC</div><div class="val">2.35</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="SETS O2.5" data-odds="1.78">
                <div class="lbl">SETS O2.5</div><div class="val">1.78</div>
              </div>
              <div class="odd" role="button" tabindex="0" data-pick="ALCARAZ" data-odds="1.62">
                <div class="lbl">ALCARAZ</div><div class="val">1.62</div>
              </div>
            </div>
          </article>

        </div>
      </section>

      <!-- MY BETS VIEW -->
      <section class="panel view" id="view-mybets">
        <h2 class="panel-title">My Bets</h2>
        <div class="list" id="myBetsList">
          <div class="row">
            <div class="left">
              <div class="t">Arsenal v Chelsea — HOME</div>
              <div class="s">Stake £25 • Odds 2.10 • Potential £52.50</div>
            </div>
            <div class="badge live">LIVE</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="t">Lakers v Celtics — LAKERS</div>
              <div class="s">Stake £10 • Odds 1.92 • Potential £19.20</div>
            </div>
            <div class="badge win">WON</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="t">Djokovic v Alcaraz — ALCARAZ</div>
              <div class="s">Stake £50 • Odds 1.62 • Potential £81.00</div>
            </div>
            <div class="badge lose">LOST</div>
          </div>
        </div>
      </section>

      <!-- LEADERBOARD VIEW -->
      <section class="panel view" id="view-leaderboard">
        <h2 class="panel-title">Leaderboard</h2>
        <div class="list">
          <div class="row">
            <div class="left">
              <div class="t">JR</div>
              <div class="s">Return £7,112 • Bets 14</div>
            </div>
            <div class="badge">#1</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="t">Player_221</div>
              <div class="s">Return £6,980 • Bets 13</div>
            </div>
            <div class="badge">#2</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="t">OddyOne</div>
              <div class="s">Return £6,540 • Bets 12</div>
            </div>
            <div class="badge">#3</div>
          </div>
        </div>
      </section>

    </div>

    <!-- RIGHT: DESKTOP BETSLIP -->
    <aside class="betslip" aria-label="Bet slip (desktop)">
      <section class="panel">
        <div class="bs-box">
          <div class="bs-head">
            <h3>Bet Slip</h3>
            <div class="bs-count"><span id="bsCountDesktop">0</span> SELECTION</div>
          </div>

          <div id="bsSelectionDesktop"></div>

          <div class="stake-row">
            <div class="stake">
              <span>£</span>
              <input id="stakeDesktop" type="number" min="0" step="1" value="10" />
            </div>
          </div>

          <div class="quick" aria-label="Quick stakes (desktop)">
            <button class="qbtn" type="button" data-stake="5">5</button>
            <button class="qbtn" type="button" data-stake="10">10</button>
            <button class="qbtn" type="button" data-stake="25">25</button>
            <button class="qbtn" type="button" data-stake="50">50</button>
            <button class="qbtn" type="button" data-stake="100">100</button>
          </div>

          <div class="type-row" aria-label="Bet type">
            <button class="type active" type="button" data-type="straight">STRAIGHT</button>
            <button class="type" type="button" data-type="parlay">PARLAY</button>
          </div>

          <div class="totals">
            <div class="kv">
              <div class="k">ODDS</div>
              <div class="v" id="oddsDesktop">—</div>
            </div>
            <div class="kv">
              <div class="k">POTENTIAL</div>
              <div class="v" id="potDesktop">—</div>
            </div>
          </div>

          <div class="actions">
            <button class="btn place" type="button" id="placeDesktop">PLACE BET</button>
            <button class="btn clear" type="button" id="clearDesktop">CLEAR</button>
          </div>
        </div>
      </section>
    </aside>

  </section>

  <!-- MOBILE SHEET BETSLIP -->
  <div class="sheet hidden" id="sheet" aria-label="Bet slip (mobile)">
    <div class="sheet-inner" id="sheetInner">
      <div class="sheet-hdr" id="sheetHdr">
        <div class="grab" aria-hidden="true"></div>
        <div class="sheet-hdr-row">
          <div class="sheet-title">
            <strong>BET SLIP</strong>
            <span><span id="bsCountMobile">0</span> SELECTION</span>
          </div>
          <button class="chev" type="button" id="sheetToggle">OPEN</button>
        </div>
      </div>

      <div class="sheet-body" id="sheetBody">
        <div id="bsSelectionMobile"></div>

        <div class="stake-row">
          <div class="stake">
            <span>£</span>
            <input id="stakeMobile" type="number" min="0" step="1" value="10" />
          </div>
        </div>

        <div class="quick" aria-label="Quick stakes (mobile)">
          <button class="qbtn" type="button" data-stake="5">5</button>
          <button class="qbtn" type="button" data-stake="10">10</button>
          <button class="qbtn" type="button" data-stake="25">25</button>
          <button class="qbtn" type="button" data-stake="50">50</button>
          <button class="qbtn" type="button" data-stake="100">100</button>
        </div>

        <div class="type-row" aria-label="Bet type">
          <button class="type active" type="button" data-type="straight">STRAIGHT</button>
          <button class="type" type="button" data-type="parlay">PARLAY</button>
        </div>

        <div class="totals">
          <div class="kv">
            <div class="k">ODDS</div>
            <div class="v" id="oddsMobile">—</div>
          </div>
          <div class="kv">
            <div class="k">POTENTIAL</div>
            <div class="v" id="potMobile">—</div>
          </div>
        </div>

        <div class="actions">
          <button class="btn place" type="button" id="placeMobile">PLACE BET</button>
          <button class="btn clear" type="button" id="clearMobile">CLEAR</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== State =====
    const state = {
      selection: null, // {match, league, time, pick, odds}
      stake: 10,
      type: "straight"
    };

    // ===== Helpers =====
    const money = (n) => {
      if (Number.isNaN(n) || n === null) return "—";
      return "£" + (Math.round(n * 100) / 100).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
    };

    const setActive = (root, selector, el) => {
      root.querySelectorAll(selector).forEach(x => x.classList.remove("active"));
      if (el) el.classList.add("active");
    };

    // ===== Tabs toggle =====
    document.querySelectorAll(".tab").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        const view = btn.getAttribute("data-view");
        document.querySelectorAll(".view").forEach(v => v.classList.remove("active"));
        document.getElementById("view-" + view).classList.add("active");
      });
    });

    // ===== Odds selection =====
    const oddsButtons = document.querySelectorAll(".odd");
    oddsButtons.forEach(o => {
      const handler = () => {
        // de-activate any existing
        oddsButtons.forEach(x => x.classList.remove("active"));
        o.classList.add("active");

        const matchEl = o.closest(".match");
        state.selection = {
          match: matchEl.getAttribute("data-match"),
          league: matchEl.getAttribute("data-league"),
          time: matchEl.getAttribute("data-time"),
          pick: o.getAttribute("data-pick"),
          odds: parseFloat(o.getAttribute("data-odds"))
        };

        renderBetslips();

        // Mobile: show -> PEEK (Option A)
        openSheetPeek();
      };

      o.addEventListener("click", handler);
      o.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") { e.preventDefault(); handler(); }
      });
    });

    // ===== Render selection blocks =====
    function selectionMarkup(sel, removeId){
      if (!sel) return `<div style="color:rgba(255,255,255,.65); font-weight:800; letter-spacing:.02em; padding:10px 2px;">
        Select odds to add a bet.
      </div>`;

      return `
        <div class="sel">
          <div class="sel-top">
            <div>
              <div class="sel-name">${sel.match} — ${sel.pick}</div>
              <div class="sel-sub">${sel.league} • ${sel.time} • Odds <strong>${sel.odds.toFixed(2)}</strong></div>
            </div>
            <button class="rm" type="button" data-remove="${removeId}">REMOVE</button>
          </div>
        </div>
      `;
    }

    // ===== Calculate odds / potential =====
    function calcPotential(){
      if (!state.selection) return {odds:null, potential:null};
      const o = state.selection.odds;

      // Straight = stake * odds
      // Parlay (demo) = stake * (odds * 1.25) to visually differ
      const multiplier = state.type === "parlay" ? (o * 1.25) : o;
      const pot = state.stake * multiplier;

      return {odds: multiplier, potential: pot};
    }

    // ===== Render desktop + mobile =====
    function renderBetslips(){
      // Desktop
      document.getElementById("bsCountDesktop").textContent = state.selection ? "1" : "0";
      document.getElementById("bsSelectionDesktop").innerHTML = selectionMarkup(state.selection, "desktop");

      // Mobile
      document.getElementById("bsCountMobile").textContent = state.selection ? "1" : "0";
      document.getElementById("bsSelectionMobile").innerHTML = selectionMarkup(state.selection, "mobile");

      // Stake sync
      document.getElementById("stakeDesktop").value = String(state.stake);
      document.getElementById("stakeMobile").value = String(state.stake);

      // Totals
      const {odds, potential} = calcPotential();
      document.getElementById("oddsDesktop").textContent = odds ? odds.toFixed(2) : "—";
      document.getElementById("potDesktop").textContent  = potential ? money(potential) : "—";
      document.getElementById("oddsMobile").textContent  = odds ? odds.toFixed(2) : "—";
      document.getElementById("potMobile").textContent   = potential ? money(potential) : "—";

      // Hook remove buttons
      document.querySelectorAll('[data-remove="desktop"], [data-remove="mobile"]').forEach(btn => {
        btn.addEventListener("click", () => {
          clearSelection();
        }, {once:true});
      });

      // Quick stake active state
      setQuickStakeActive();
    }

    function setQuickStakeActive(){
      const val = String(state.stake);
      document.querySelectorAll(".qbtn").forEach(b => {
        if (b.getAttribute("data-stake") === val) b.classList.add("active");
        else b.classList.remove("active");
      });
    }

    function clearSelection(){
      state.selection = null;
      // de-activate odds UI
      document.querySelectorAll(".odd").forEach(x => x.classList.remove("active"));
      renderBetslips();
      // mobile: hide sheet
      hideSheet();
    }

    // ===== Stake inputs =====
    const stakeDesktop = document.getElementById("stakeDesktop");
    const stakeMobile  = document.getElementById("stakeMobile");

    function onStakeChange(v){
      const n = Math.max(0, parseFloat(v || "0"));
      state.stake = Number.isFinite(n) ? n : 0;
      renderBetslips();
    }
    stakeDesktop.addEventListener("input", (e) => onStakeChange(e.target.value));
    stakeMobile.addEventListener("input", (e) => onStakeChange(e.target.value));

    // Quick stake buttons
    document.querySelectorAll(".qbtn").forEach(btn => {
      btn.addEventListener("click", () => {
        onStakeChange(btn.getAttribute("data-stake"));
      });
    });

    // Bet type buttons (desktop + mobile share .type)
    document.querySelectorAll(".type").forEach(btn => {
      btn.addEventListener("click", () => {
        state.type = btn.getAttribute("data-type");
        // toggle active within its row only
        const row = btn.closest(".type-row");
        setActive(row, ".type", btn);
        // mirror other row
        document.querySelectorAll('.type-row .type').forEach(b => {
          if (b.getAttribute("data-type") === state.type) b.classList.add("active");
          else b.classList.remove("active");
        });
        renderBetslips();
      });
    });

    // Place / Clear
    function placeBet(){
      if (!state.selection) return;
      alert(`Bet placed: ${state.selection.match} — ${state.selection.pick}\nStake: £${state.stake}\nType: ${state.type.toUpperCase()}`);
      // After placing: collapse to peek (keep selection so user can see it), or clear — here we collapse to peek:
      openSheetPeek();
    }
    document.getElementById("placeDesktop").addEventListener("click", placeBet);
    document.getElementById("placeMobile").addEventListener("click", placeBet);

    document.getElementById("clearDesktop").addEventListener("click", clearSelection);
    document.getElementById("clearMobile").addEventListener("click", clearSelection);

    // ===== Mobile sheet controls (Option A default = peek) =====
    const sheet = document.getElementById("sheet");
    const sheetInner = document.getElementById("sheetInner");
    const sheetHdr = document.getElementById("sheetHdr");
    const sheetToggle = document.getElementById("sheetToggle");

    function hideSheet(){
      sheet.classList.add("hidden");
      sheet.classList.remove("peek","expanded");
      sheetToggle.textContent = "OPEN";
    }
    function openSheetPeek(){
      // Only show if mobile layout is active
      if (window.matchMedia("(max-width: 980px)").matches){
        sheet.classList.remove("hidden","expanded");
        sheet.classList.add("peek");
        sheetToggle.textContent = "OPEN";
      }
    }
    function openSheetExpanded(){
      sheet.classList.remove("hidden","peek");
      sheet.classList.add("expanded");
      sheetToggle.textContent = "HIDE";
    }
    function toggleSheet(){
      if (sheet.classList.contains("expanded")) openSheetPeek();
      else openSheetExpanded();
    }

    sheetToggle.addEventListener("click", toggleSheet);
    sheetHdr.addEventListener("click", () => {
      // tap header toggles between peek and expanded
      if (sheet.classList.contains("hidden")) return;
      toggleSheet();
    });

    // Drag gesture
    let dragStartY = null;
    let dragStartState = null;

    sheetHdr.addEventListener("touchstart", (e) => {
      if (!window.matchMedia("(max-width: 980px)").matches) return;
      dragStartY = e.touches[0].clientY;
      dragStartState = sheet.classList.contains("expanded") ? "expanded" : (sheet.classList.contains("peek") ? "peek" : "hidden");
    }, {passive:true});

    sheetHdr.addEventListener("touchmove", (e) => {
      if (dragStartY === null) return;
      const dy = e.touches[0].clientY - dragStartY;

      // simple threshold preview: we don't do live dragging (safer), just decide on end
      // prevent page scroll while swiping the handle
      e.preventDefault();
    }, {passive:false});

    sheetHdr.addEventListener("touchend", (e) => {
      if (dragStartY === null) return;

      // Determine direction by last touchend vs start
      // iOS doesn't give touches[0] on end reliably; track via changedTouches
      const endY = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0].clientY : dragStartY;
      const dy = endY - dragStartY;

      const threshold = 28; // px
      if (dy < -threshold){
        // swipe up
        if (!sheet.classList.contains("expanded")) openSheetExpanded();
      } else if (dy > threshold){
        // swipe down
        if (sheet.classList.contains("expanded")) openSheetPeek();
        else hideSheet();
      }

      dragStartY = null;
      dragStartState = null;
    }, {passive:true});

    // Ensure sheet hidden if switching back to desktop
    window.addEventListener("resize", () => {
      if (!window.matchMedia("(max-width: 980px)").matches){
        hideSheet();
      } else {
        // if a selection exists, keep peek visible
        if (state.selection) openSheetPeek();
      }
    });

    // Initial render
    renderBetslips();
    hideSheet();
  </script>
</body>
</html>


